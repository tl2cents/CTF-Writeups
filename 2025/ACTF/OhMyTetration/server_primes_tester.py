from sage.all import factor

primes = {670144747631070976739015819027954827310379693667090873445520193836663869580245599076670148076473491050020123654751096623483807617465722698994356143777563707: True, 1502305675703953507826564356364207463785905265358954425050832597353379827611347779894929874274487297076504174110953417469304402049079223143080164648064147459: True, 170953236075981703101107323627149749446399094948416530919519737926722425019602066485332700625463008928220692022155525741201814917060803040398296096589112909590796816127: True, 1079057966637328314460077867877075467713192523793597903382852641891007375448706143257181174464331232997171389558347754330749095005274030323571444891328903479: True, 7531993227394432935495469175847581786870840148535987047046105838996369558316042438597087283959689643904418638897096661950504686097925188166275662098492041069: True, 35756093982019706426293639025599400558582772921867310666401488874611580043479377203647832136951529097764525162097024888170529918256990041464461134501152163496501126743211147409398847307: True, 239187462979118019747230815457958990366061401854539190633596878790038851736407756334693453965940382959498959881612616858277374759576574603849900365838546947: True, 69733552883983886441106168440790711150895644030197258530275106690507328511836880029685067160750932842368374328059309873559063711214389833094390485760319482905397: True}

# p-1 cannot be factored, factordb gives some small primes though
unchecked = {5562154467202723270412772514830285916047384143265968574138415679850553481694361563181346260125418726789543245146122445003861314460175414039028066450148987: True, 370923153638212161920777491706333569951572574628708821969548439843124087828919574625984399791228366182810501744996329114675870804331860814331864285959146185667:True}
for prime in primes:
    print("++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++")
    print("original prime:", prime)
    fs = factor(prime - 1)
    print("factors of original prime:", fs)
    print()
    for q, e in fs:
        if q in unchecked:
            continue
        print(f"{q = }")
        print("factors of q-1: ", factor(q - 1))
        print()